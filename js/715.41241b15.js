"use strict";(self["webpackChunkgimko"]=self["webpackChunkgimko"]||[]).push([[715],{89:function(e,t){t.Z=(e,t)=>{const s=e.__vccOpts||e;for(const[n,l]of t)s[n]=l;return s}},3715:function(e,t,s){s.r(t),s.d(t,{default:function(){return Y}});s(7658),s(2801),s(1295);var n=s(3396),l=s(7139),a=s(9242),o=s(4870),u=s(3866),i=s(2392),r=s(8978),c=s(4287),v=s(2483);const d=e=>((0,n.dD)("data-v-62ab4d38"),e=e(),(0,n.Cn)(),e),k=d((()=>(0,n._)("h1",null,"Koki",-1))),g={key:0},p={class:"tree-list-container"},_={class:"tree-selector"},w={class:"tree-button hover-up"},h=d((()=>(0,n._)("div",{class:"bg op-20"},null,-1))),b=[h],f=d((()=>(0,n._)("div",{class:"bg"},null,-1))),m=d((()=>(0,n._)("div",{class:"new-tree-container"},[(0,n._)("div",{class:"bg"})],-1))),y={key:1},D={class:"tree-list-container"},C={class:"tree-selector"},H=["onClick"],I=d((()=>(0,n._)("div",{class:"bg op-20"},null,-1))),J=d((()=>(0,n._)("div",{class:"bg"},null,-1))),U={class:"new-tree-container"},K=d((()=>(0,n._)("h2",null,"Izveidot Jaunu Koku",-1))),T=d((()=>(0,n._)("p",null,"Nosaukums:",-1))),Z=d((()=>(0,n._)("p",null,"Izveidot Koku",-1))),x=[Z],N=d((()=>(0,n._)("div",{class:"bg"},null,-1)));var q={__name:"TreeMain",setup(e){const t=(0,v.tv)(),s=(0,o.iH)([]),d=(0,o.iH)(1e3),h=async()=>{const e=(0,u.v0)(),t=(0,c.JU)(i.Z,"users",e.currentUser.uid),n=await(0,c.QT)(t);if(n.exists()){const e=n.data().trees;d.value=e.length,await e.forEach((async e=>{console.log("Getting tree with ID: "+e);const t=await(0,c.QT)((0,c.JU)(i.Z,"trees",e));t.exists()?(console.log("Found tree!"),s.value.push(t)):console.log("Tree not found!")}))}else console.log("No document for user!")},Z=(0,o.iH)(!1),q=(0,o.iH)("Jauns koks"),z=async()=>{const e=(0,u.v0)();Z.value=!0,""===q.value&&(q.value="Jauns koks");const s=(0,c.hJ)(i.Z,"trees"),n=(0,c.IO)(s,(0,c.ar)("name","==",q.value)),l=await(0,c.PL)(n);if(!l.empty)return void alert("Šāds koks jau pastāv!");const a=structuredClone(r.fI);a.name=q.value,a.ownerID=e.currentUser.uid;const o=await(0,c.ET)(s,a),v=(0,c.JU)(i.Z,"users",e.currentUser.uid),d=await(0,c.QT)(v);d.exists()?(await(0,c.r7)(v,{trees:[...d.data().trees,o.id]}),t.go()):console.log("No document for user!")},Q=e=>{t.push({name:"tree",params:{id:e}})};return(0,n.bv)((()=>{document.title="gimko | Koki",h()})),(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[k,s.value.length!=d.value?((0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",p,[(0,n._)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Array(5).keys(),(e=>((0,n.wg)(),(0,n.iD)("div",w,b)))),256))]),f]),m])):(0,n.kq)("",!0),s.value.length==d.value?((0,n.wg)(),(0,n.iD)("div",y,[(0,n._)("div",D,[(0,n._)("div",C,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.value,(e=>((0,n.wg)(),(0,n.iD)("button",{class:"tree-button hover-up-p",onClick:t=>Q(e.id)},[(0,n._)("p",null,(0,l.zw)(e.data().name),1),I],8,H)))),256))]),J]),(0,n._)("div",U,[K,T,(0,n._)("p",null,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>q.value=e),placeholder:"New tree"},null,512),[[a.nr,q.value]])]),Z.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"hover-up-p",onClick:t[1]||(t[1]=e=>z())},x)),N])])):(0,n.kq)("",!0)],64))}},z=s(89);const Q=(0,z.Z)(q,[["__scopeId","data-v-62ab4d38"]]);var Y=Q}}]);
//# sourceMappingURL=715.41241b15.js.map