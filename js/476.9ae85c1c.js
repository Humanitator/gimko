"use strict";(self["webpackChunkgimko"]=self["webpackChunkgimko"]||[]).push([[476],{89:function(e,l){l.Z=(e,l)=>{const a=e.__vccOpts||e;for(const[s,n]of l)a[s]=n;return a}},9476:function(e,l,a){a.r(l),a.d(l,{default:function(){return Sl}});a(2801),a(1295),a(7658);var s=a(3396),n=a(4870),t=a(7139),u=a(9242),i=a(2392),o=a(3866),r=a(4287),p=a(2483);class c{constructor(e,l,a=!1){this.person=e,this.before=l,this.isSpouse=a}}var d=a(8978);const v=e=>((0,s.dD)("data-v-49c904bc"),e=e(),(0,s.Cn)(),e),h={key:0},_=v((()=>(0,s._)("h1",null,"Pārbauda piekļuves atļauju...",-1))),g=[_],y={key:1,class:"prevent-select",style:{position:"relative"}},k={class:"tree-gen"},m={class:"person-actions"},w=["onClick"],f=v((()=>(0,s._)("p",null,"INFO",-1))),b=v((()=>(0,s._)("div",{class:"bg secondary op-50"},null,-1))),D=[f,b],U=["onClick"],P=v((()=>(0,s._)("p",null,"PIEVIENOT",-1))),C=v((()=>(0,s._)("div",{class:"bg secondary op-50"},null,-1))),x=[P,C],V=["onClick"],z=v((()=>(0,s._)("p",null,"DZĒST",-1))),E=v((()=>(0,s._)("div",{class:"bg red op-80"},null,-1))),q=[z,E],H={key:0,class:"relation-line-container"},S={key:1},T={key:0},I={key:1},M=v((()=>(0,s._)("p",null,"REDIĢĒT",-1))),Y=v((()=>(0,s._)("div",{class:"bg accent op-30"},null,-1))),O=[M,Y],j=v((()=>(0,s._)("p",null,"AIZVĒRT",-1))),N=v((()=>(0,s._)("div",{class:"bg"},null,-1))),K=[j,N],A=v((()=>(0,s._)("h2",null,"Rediģēt personas info",-1))),Z={key:0,class:"add-person-form"},R={key:0},J={key:1},F=v((()=>(0,s._)("label",{for:"parents"},"Izvēlieties otru vecāku:",-1))),X=[F],G={key:2},Q=v((()=>(0,s._)("option",{value:-1},"Adoptēts",-1))),B=["value","selected"],$=v((()=>(0,s._)("h4",null,"Raksti:",-1))),L=["onUpdate:modelValue"],W=["onUpdate:modelValue"],ee=["onClick"],le=v((()=>(0,s._)("p",null,"Noņemt rakstu",-1))),ae=v((()=>(0,s._)("div",{class:"bg red op-30"},null,-1))),se=[le,ae],ne=v((()=>(0,s._)("p",null,"Pievienot rakstu",-1))),te=v((()=>(0,s._)("div",{class:"bg"},null,-1))),ue=[ne,te],ie=v((()=>(0,s._)("p",null,"Saglabāt",-1))),oe=v((()=>(0,s._)("div",{class:"bg op-40"},null,-1))),re=[ie,oe],pe=v((()=>(0,s._)("p",null,"Aizvērt",-1))),ce=v((()=>(0,s._)("div",{class:"bg accent"},null,-1))),de=[pe,ce],ve=v((()=>(0,s._)("h4",{style:{"text-align":"center"}},"Select person type",-1))),he=v((()=>(0,s._)("p",null,"Bērns",-1))),_e=v((()=>(0,s._)("div",{class:"bg op-70 secondary"},null,-1))),ge=[he,_e],ye=v((()=>(0,s._)("p",null,"Dzīvesbiedrs",-1))),ke=v((()=>(0,s._)("div",{class:"bg op-70 secondary"},null,-1))),me=[ye,ke],we=v((()=>(0,s._)("p",null,"Vecāks",-1))),fe=v((()=>(0,s._)("div",{class:"bg op-70 secondary"},null,-1))),be=[we,fe],De=v((()=>(0,s._)("p",null,"Aizvērt",-1))),Ue=v((()=>(0,s._)("div",{class:"bg op-80 secondary"},null,-1))),Pe=[De,Ue],Ce=v((()=>(0,s._)("div",{class:"bg op-40"},null,-1))),xe={key:0},Ve={key:1},ze={key:2},Ee={class:"add-person-form"},qe={class:"checkbox"},He={key:0},Se={key:1},Te=v((()=>(0,s._)("label",{for:"parents"},"Izvēlieties otru vecāku:",-1))),Ie=[Te],Me={key:2},Ye=v((()=>(0,s._)("option",{value:-1,selected:!0},"Adoptēts",-1))),Oe=["value"],je=v((()=>(0,s._)("h3",null,"Raksti:",-1))),Ne=["onUpdate:modelValue"],Ke=["onUpdate:modelValue"],Ae=["onClick"],Ze=v((()=>(0,s._)("p",null,"Noņemt rakstu",-1))),Re=v((()=>(0,s._)("div",{class:"bg red op-30"},null,-1))),Je=[Ze,Re],Fe=v((()=>(0,s._)("p",null,"Pievienot rakstu",-1))),Xe=v((()=>(0,s._)("div",{class:"bg"},null,-1))),Ge=[Fe,Xe],Qe=v((()=>(0,s._)("p",null,"PIEVIENOT",-1))),Be=v((()=>(0,s._)("div",{class:"bg op-40"},null,-1))),$e=[Qe,Be],Le=v((()=>(0,s._)("p",null,"Aizvērt",-1))),We=v((()=>(0,s._)("div",{class:"bg accent"},null,-1))),el=[Le,We],ll=v((()=>(0,s._)("p",null,"Saglabāt koku",-1))),al=v((()=>(0,s._)("div",{class:"bg accent"},null,-1))),sl=[ll,al],nl=v((()=>(0,s._)("h2",null,"Vai jūs esat drošs?",-1))),tl=v((()=>(0,s._)("p",null,"Nē",-1))),ul=v((()=>(0,s._)("div",{class:"bg secondary op-80 z--3"},null,-1))),il=[tl,ul],ol=v((()=>(0,s._)("p",null,"Jā",-1))),rl=v((()=>(0,s._)("div",{class:"bg red op-80 z--3"},null,-1))),pl=[ol,rl],cl=v((()=>(0,s._)("p",null,"Nē",-1))),dl=v((()=>(0,s._)("div",{class:"bg secondary op-80 z--3"},null,-1))),vl=[cl,dl],hl=v((()=>(0,s._)("div",{class:"bg op-30 z--5"},null,-1))),_l=v((()=>(0,s._)("div",{class:"bg red op-40"},null,-1))),gl={key:2,class:"add-person-container"},yl=v((()=>(0,s._)("h2",null,"Pievienot personu",-1))),kl={class:"checkbox"},ml={key:0},wl=v((()=>(0,s._)("p",null,"Izveidot personu",-1))),fl=[wl],bl=v((()=>(0,s._)("div",{class:"bg"},null,-1))),Dl=20,Ul=20,Pl=160,Cl=80,xl=20,Vl=20,zl=2e3;var El={__name:"TreeView",setup(e){const l=(0,p.tv)(),a=l.currentRoute.value.params.id,v=(e,l,a)=>Math.min(Math.max(e,l),a);let _=(0,n.iH)(0);const f=(0,n.iH)([]),b=structuredClone(d.YG);let P,C,z=(0,o.v0)(),E=(0,n.iH)();const M=async()=>{console.log("Getting Tree");const e=await(0,r.QT)((0,r.JU)(i.Z,"trees",a));e.exists()?(console.log("Tree found!"),E.value=e.data(),C=0,E.value.people.forEach((e=>{e.id>=C&&(C=e.id)})),console.log(E.value.people),te()):(console.log("Tree not found!"),alert("Tree not found!"),l.back())},Y=async()=>{if(E.value){const e=(0,r.JU)(i.Z,"trees",a);let l=structuredClone(E.value);l.people.forEach((e=>{})),await(0,r.r7)(e,l).then((()=>{console.log("Tree update success!"),dl("Saglabāts sekmīgi!")})).catch((()=>{console.log("Tree update failed!"),dl("Neizdevās saglabāt!")}))}},j=e=>{if("object"==typeof e){let l=[];return e.forEach((e=>{if(null==e)return l.push(null),l;E.value.people.find((l=>l.id==e));l.push(E.value.people.find((l=>l.id==e)))})),l}return E.value.people.find((l=>l.id==e))},N=e=>{let l=0,a=[e],s=[],n=[],t=0;while(0!=a.length){const u=[...a];if(a=[],u.forEach((t=>{j(t.parents).forEach((u=>{if(null==u){let a=0,s=t;while(s!=e){const e=n.find((e=>e.person==s));s=e.before,e.isSpouse||a++}a>l&&(l=a)}else s.includes(u)||(n.push(new c(u,t)),a.push(u))})),j(t.spouses).forEach((e=>{s.includes(e)||(n.push(new c(e,t,!0)),a.push(e))})),s.push(t)})),t++,t>1e3)break}return l},F=(0,n.iH)(0),le=()=>{let e=0;E.value.people.forEach((l=>{const a=N(l)+1;a>e&&(e=a)})),F.value=e};let ae=(0,n.iH)();const ne=()=>{if(0!=E.value.people.length){ae.value=[];for(let e=0;e<F.value;e++)ae.value.push([]);E.value.people.forEach((e=>{ae.value[N(e)].push(e)})),ie()}else ae.value=[]},te=()=>{f.value=[],E.value.people.forEach(((e,l)=>{f.value.push({pid:e.id,layer:null,index:null,x:null,y:null})})),le(),ne(),ol(),ll()},ie=()=>{if(ae.value){let e=[],l=null;ae.value.forEach((a=>{e.push([]);const s=e.length-1;let n=[];if(a.forEach((l=>{n.includes(l.id)||(e[s].push(l),n.push(l.id),l.spouses.forEach((l=>{e[s].push(j(l)),n.push(l)})))})),l){let a=[],n=0;while(n<e[s].length){let l=n,t=e[s][l];while(0==t.primaryParents.length)t=e[s][l],l++;a.push([t]),t.spouses.forEach((e=>{a[a.length-1].push(j(e))})),n+=t.spouses.length+1}e[s]=[],n=0;while(n<l.length){const t=l[n];let u=1;if(t.primaryParents.length>0){while(u>-1)if(u=a.findIndex((e=>-1==e[0].primaryParents[0]&&e[0].primaryParents[1]==t.id)),u>-1){const l=a[u][0];a[u][0]=a[u][Math.floor((a[u].length-1)/2)],a[u][Math.floor((a[u].length-1)/2)]=l,e[s].push(...a[u]),a.splice(u,1)}}else while(u>-1)if(u=a.findIndex((e=>e[0].primaryParents[0]==t.id)),u>-1){const l=a[u][0];a[u][0]=a[u][Math.floor((a[u].length-1)/2)],a[u][Math.floor((a[u].length-1)/2)]=l,e[s].push(...a[u]),a.splice(u,1)}n++}}l=e[s]})),ae.value=e}},oe=(0,n.iH)(structuredClone(b)),pe=e=>{""==e.name&&(e.name="New person"),e.id=C+1,C++,E.value.people.push(structuredClone(e)),oe.value=structuredClone(b),te()},ce=(0,n.iH)(),he=e=>{let l=j(e);if(l.primaryParents.length>1){let e=j(l.primaryParents[1]);j(l.children).forEach((a=>{a.parents.splice(a.parents.indexOf(l.id),1),a.parents.push(...l.parents),a.primaryParents[0]=-1,a.primaryParents[1]=e.id})),e.children.push(...l.children),e.children.splice(e.children.indexOf(l.id),1),e.spouses.push(...l.spouses),j(l.spouses).forEach((a=>{a.spouses.splice(a.spouses.indexOf(l.id),1),a.spouses.push(...e.spouses)})),j(e.spouses).forEach((e=>{e.spouses.push(...l.spouses)}))}else if(l.primaryParents.length>0){if(l.children.length>1)return console.error("Can't remove first main person, if has > 1 child!"),dl("Nevar dzēst pirmo koka personu, ja tam ir vairāki bērni!"),!1;if(1==l.children.length){let e=j(l.children[0]);e.parents=[null],e.primaryParents=[-1],e.spouses.push(...l.spouses)}}else j(l.spouses).forEach((e=>{e.spouses.splice(e.spouses.indexOf(l.id),1)})),j(l.children).forEach((e=>{e.parents.splice(e.parents.indexOf(l.id),1),e.primaryParents[0]==l.id&&(e.primaryParents[0]=-1)}));E.value.people.splice(E.value.people.indexOf(l),1),te()},_e=()=>{E.value.people[E.value.people.indexOf(j(Le.value.id))]=Le.value,console.log("Person edit success!"),ll(),te()},ye=(0,n.iH)(!1),ke=e=>{P=e,ye.value=!0},we=(0,n.iH)(""),fe=e=>{we.value=e},De=e=>{null==e&&(e=P);let l=j(e);oe.value.parents=[e],l.spouses.forEach((e=>{oe.value.parents.push(e)})),j(oe.value.parents).forEach((e=>{e.children.push(C+1)})),oe.value.primaryParents.push(P),pe(oe.value)},Ue=e=>{null==e&&(e=P);let l=j(e);oe.value.primaryParents=[],oe.value.spouses=[e],j(e).spouses.forEach((e=>{oe.value.spouses.push(e),j(e).spouses.push(C+1)})),oe.value.children=[...l.children],j(oe.value.children).forEach((e=>{e.parents.push(C+1)})),l.spouses.push(C+1),pe(oe.value)},Te=e=>{null==e&&(e=P);let l=j(e);oe.value.children.push(l.id),l.primaryParents.length<2?l.primaryParents.push(C+1):(oe.value.parents=[],j(l.parents).forEach((e=>{e.children.splice(e.children.indexOf(l.id),1),e.children.push(C+1),oe.value.parents.push(e.id)})),oe.value.primaryParents.push(l.primaryParents[1]),l.primaryParents[0]=-1,l.primaryParents[1]=C+1),l.parents=[C+1],pe(oe.value)},Ze=e=>{e.articles.push(structuredClone(d.$V))},Re=(e,l)=>{e.articles.splice(l)},Fe=(0,n.iH)(),Xe=(0,n.iH)(!1),Qe=e=>{Fe.value=E.value.people.find((l=>l.id==e)),Xe.value=!0},Be=(0,n.iH)(!1),Le=(0,n.iH)(),We=e=>{ll(),Le.value=structuredClone(E.value.people.find((l=>l.id==e))),Be.value=!0},ll=()=>{Xe.value=!1,ye.value=!1,Be.value=!1,we.value="",oe.value=structuredClone(b),Le.value=null,ce.value=null,P=null},al=(e,l)=>{const a=l*(Cl+2*Vl+2*Ul)+200;return f.value.find((l=>l.pid==e)).y=a,f.value.find((l=>l.pid==e)).layer=l,a},tl=(e,l,a)=>{const s=(a.length-1)*(Pl/2+xl+Dl)-l*(Pl+2*xl+2*Dl);return f.value.find((l=>l.pid==e)).x=s,f.value.find((l=>l.pid==e)).index=l,s};let ul=0;const ol=()=>{ul=0,ae.value&&(ae.value.forEach((e=>{e.length>ul&&(ul=e.length)})),ul=(ul-1)*(Pl/2+xl+Dl)-0*(Pl+2*xl+2*Dl))},rl=e=>f.value.find((l=>l.pid==e)),cl=(0,n.iH)(""),dl=async e=>{cl.value=e,setTimeout((function(){cl.value=""}),zl)};let wl=(0,n.iH)(!1);const El=async()=>{const e=await(0,r.QT)((0,r.JU)(i.Z,"users",z.currentUser.uid));e.exists()?(console.log("User found!"),e.data().trees.includes(a)?(wl.value=!0,console.log("Access granted!")):(console.log("User doesn't have access!"),alert("Jums nav piekļuves šajam kokam!"),l.push("/tree"))):console.log("User has no document!")};let ql,Hl=0;window.onmousedown=()=>{++Hl},window.onmouseup=()=>{--Hl};const Sl=e=>{if(Hl){const l=e.screenX;if(ql){let e=l-ql;_.value+=e,_.value=v(_.value,2*-ul,2*ul)}ql=l}else ql=null};return(0,s.bv)((async()=>{document.title="gimko | Koka skats",await El(),wl.value&&M()})),document.onmousemove=Sl,(e,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,n.SU)(wl)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",h,g)),(0,n.SU)(wl)&&(0,n.SU)(E)&&(0,n.SU)(ae)?((0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("h1",null,(0,t.zw)((0,n.SU)(E).name),1),(0,n.SU)(E).people.length>0?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"people-tree",style:(0,t.j5)({left:(0,n.SU)(_)+"px"})},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(ae),((e,l)=>((0,s.wg)(),(0,s.iD)("div",k,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((a,n)=>((0,s.wg)(),(0,s.iD)("div",{class:"person",style:(0,t.j5)({width:Pl+"pt",height:Cl+"pt",padding:Vl+"pt "+xl+"pt",left:"calc(50% - "+tl(a.id,n,e)+"pt)",top:"calc("+al(a.id,l)+"pt)"})},[(0,s._)("h2",{style:{position:"relative"},class:(0,t.C_)(["z-5",a.primaryParents.length>0?"t-bg":"t-text"])},(0,t.zw)(a.name),3),(0,s._)("div",m,[(0,s._)("button",{class:"hover-up-p",onClick:e=>Qe(a.id)},D,8,w),a.primaryParents.length>0?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"hover-up-p",onClick:e=>ke(a.id)},x,8,U)):(0,s.kq)("",!0),(0,s._)("button",{class:"hover-up-p",onClick:()=>ce.value=a.id},q,8,V)]),a.spouses.length>0&&(0==n||!e[n-1].spouses.includes(a.id))?((0,s.wg)(),(0,s.iD)("div",H,[(0,s._)("hr",{class:"relation-line",style:(0,t.j5)({left:"calc(50% + "+a.spouses.length*(Pl/2+xl+Dl)+"pt)",top:Cl/2+Vl+"pt",width:2*a.spouses.length*(Pl/2+xl+Dl)+"pt"})},null,4)])):(0,s.kq)("",!0),a.primaryParents.length>1?((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("hr",{class:"relation-line",style:(0,t.j5)({left:"calc(50% + "+-(rl(a.primaryParents[0]>-1?a.primaryParents[0]:a.primaryParents[1]).x-rl(a.id).x)/2+"pt)",top:"calc(-20pt)",transform:"translateX(-50%) rotate("+-Math.atan(2*Ul/-(rl(a.primaryParents[0]>-1?a.primaryParents[0]:a.primaryParents[1]).x-rl(a.id).x))+"rad)",width:Math.sqrt((rl(a.primaryParents[0]>-1?a.primaryParents[0]:a.primaryParents[1]).x-rl(a.id).x)**2+(2*Ul)**2)+"pt"})},null,4)])):(0,s.kq)("",!0),(0,s._)("div",{class:(0,t.C_)(["bg z-1",a.primaryParents.length>0?"accent":""])},null,2)],4)))),256))])))),256))],4)):(0,s.kq)("",!0),(0,s._)("div",{class:(0,t.C_)(["selected-person-info",Xe.value?"shown":""])},[Fe.value&&Fe.value.isDeceased?((0,s.wg)(),(0,s.iD)("h2",T,(0,t.zw)(Fe.value.name)+" ("+(0,t.zw)(new Date(Fe.value.dob).getFullYear())+" - "+(0,t.zw)(new Date(Fe.value.dod).getFullYear())+")",1)):(0,s.kq)("",!0),Fe.value&&!Fe.value.isDeceased?((0,s.wg)(),(0,s.iD)("h2",I,(0,t.zw)(Fe.value.name)+" ("+(0,t.zw)(new Date(Fe.value.dob).getFullYear())+")",1)):(0,s.kq)("",!0),Fe.value?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:2},(0,s.Ko)(Fe.value.articles,(e=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h5",null,(0,t.zw)(e.title),1),(0,s._)("article",null,[(0,s._)("p",null,(0,t.zw)(e.content),1)])])))),256)):(0,s.kq)("",!0),(0,s._)("button",{class:"edit-button hover-up-p",onClick:l[0]||(l[0]=e=>We(Fe.value.id))},O),(0,s._)("button",{class:"exit-button hover-up-p",onClick:l[1]||(l[1]=e=>ll())},K)],2),(0,s._)("div",{class:(0,t.C_)(["edit-person-info-container",Be.value?"shown":""])},[A,Le.value?((0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("p",null,[(0,s.Uk)("Vārds: "),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>Le.value.name=e),type:"text"},null,512),[[u.nr,Le.value.name]])]),(0,s._)("p",null,[(0,s.Uk)("Dzimšanas datums: "),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>Le.value.dob=e),type:"date"},null,512),[[u.nr,Le.value.dob]])]),(0,s._)("p",null,[(0,s.Uk)("Vai ir miris? "),(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":l[4]||(l[4]=e=>Le.value.isDeceased=e)},null,512),[[u.e8,Le.value.isDeceased]])]),Le.value.isDeceased?((0,s.wg)(),(0,s.iD)("p",R,[(0,s.Uk)("Miršanas datums: "),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>Le.value.dod=e),type:"date"},null,512),[[u.nr,Le.value.dod]])])):(0,s.kq)("",!0),null!=Le.value.parents[0]?((0,s.wg)(),(0,s.iD)("p",J,X)):(0,s.kq)("",!0),null!=Le.value.parents[0]?((0,s.wg)(),(0,s.iD)("p",G,[(0,s.wy)((0,s._)("select",{name:"parents",id:"parents","onUpdate:modelValue":l[6]||(l[6]=e=>Le.value.primaryParents[0]=e)},[Q,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(j(Le.value.primaryParents[1]).spouses,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e,selected:Le.value.primaryParents[0]==e},(0,t.zw)(j(e).name),9,B)))),256))],512),[[u.bM,Le.value.primaryParents[0]]])])):(0,s.kq)("",!0),$,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Le.value.articles,((e,l)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("p",null,[(0,s.Uk)("Virsraksts: "),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l=>e.title=l,type:"text"},null,8,L),[[u.nr,e.title]])]),(0,s._)("p",null,[(0,s.wy)((0,s._)("textarea",{class:"desc","onUpdate:modelValue":l=>e.content=l},null,8,W),[[u.nr,e.content]])]),(0,s._)("button",{class:"hover-up-p",style:{margin:"3pt 0"},onClick:e=>Re(Le.value,l)},se,8,ee)])))),256)),(0,s._)("button",{class:"hover-up-p",style:{margin:"4pt 0"},onClick:l[7]||(l[7]=e=>Ze(Le.value))},ue),(0,s._)("button",{class:"hover-up-p",style:{float:"inline-end"},onClick:l[8]||(l[8]=e=>_e())},re)])):(0,s.kq)("",!0),(0,s._)("button",{class:"exit-button hover-up-p pos-right-inline",onClick:l[9]||(l[9]=e=>ll())},de)],2),(0,s._)("div",{class:(0,t.C_)(["select-person-type-container",""==we.value&&ye.value?"shown-0--50":""])},[ve,(0,s._)("button",{class:"select-new-person-button hover-up-p z-1",onClick:l[10]||(l[10]=e=>fe("child"))},ge),(0,s._)("button",{class:"select-new-person-button hover-up-p z-1",onClick:l[11]||(l[11]=e=>fe("spouse"))},me),(0,s._)("button",{class:"select-new-person-button hover-up-p z-1",onClick:l[12]||(l[12]=e=>fe("parent"))},be),(0,s._)("button",{class:"exit-button hover-up-p z-1",onClick:l[13]||(l[13]=e=>ll())},Pe),Ce],2),(0,s._)("div",{class:(0,t.C_)(["edit-person-info-container",""!=we.value?"shown":""])},["child"==we.value?((0,s.wg)(),(0,s.iD)("h2",xe,"Pievienot bērnu")):(0,s.kq)("",!0),"spouse"==we.value?((0,s.wg)(),(0,s.iD)("h2",Ve,"Pievienot dzīvesbiedru")):(0,s.kq)("",!0),"parent"==we.value?((0,s.wg)(),(0,s.iD)("h2",ze,"Pievienot vecāku")):(0,s.kq)("",!0),(0,s._)("div",Ee,[(0,s._)("p",null,[(0,s.Uk)("Vārds: "),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l[14]||(l[14]=e=>oe.value.name=e),type:"text"},null,512),[[u.nr,oe.value.name]])]),(0,s._)("p",null,[(0,s.Uk)("Dzimšanas datums: "),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l[15]||(l[15]=e=>oe.value.dob=e),type:"date"},null,512),[[u.nr,oe.value.dob]])]),(0,s._)("p",null,[(0,s.Uk)("Vai ir miris? "),(0,s._)("div",qe,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":l[16]||(l[16]=e=>oe.value.isDeceased=e)},null,512),[[u.e8,oe.value.isDeceased]])])]),oe.value.isDeceased?((0,s.wg)(),(0,s.iD)("p",He,[(0,s.Uk)("Miršanas datums: "),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l[17]||(l[17]=e=>oe.value.dod=e),type:"date"},null,512),[[u.nr,oe.value.dod]])])):(0,s.kq)("",!0),"child"==we.value?((0,s.wg)(),(0,s.iD)("p",Se,Ie)):(0,s.kq)("",!0),(0,n.SU)(P)&&"child"==we.value?((0,s.wg)(),(0,s.iD)("p",Me,[(0,s.wy)((0,s._)("select",{name:"parents",id:"parents","onUpdate:modelValue":l[18]||(l[18]=e=>oe.value.primaryParents[0]=e)},[Ye,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(j((0,n.SU)(P)).spouses,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e},(0,t.zw)(j(e).name),9,Oe)))),256))],512),[[u.bM,oe.value.primaryParents[0]]])])):(0,s.kq)("",!0),je,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(oe.value.articles,((e,l)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("p",null,[(0,s.Uk)("Virsraksts: "),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":l=>e.title=l,type:"text"},null,8,Ne),[[u.nr,e.title]])]),(0,s._)("p",null,[(0,s.wy)((0,s._)("textarea",{class:"desc","onUpdate:modelValue":l=>e.content=l},null,8,Ke),[[u.nr,e.content]])]),(0,s._)("button",{class:"hover-up-p",style:{margin:"3pt 0"},onClick:e=>Re(oe.value,l)},Je,8,Ae)])))),256)),(0,s._)("button",{class:"hover-up-p",style:{margin:"4pt 0"},onClick:l[19]||(l[19]=e=>Ze(oe.value))},Ge),(0,s._)("button",{class:"hover-up-p",style:{float:"inline-end"},onClick:l[20]||(l[20]=e=>"child"==we.value?De():"parent"==we.value?Te():Ue())},$e)]),(0,s._)("button",{class:"exit-button hover-up-p pos-right-inline",onClick:l[21]||(l[21]=e=>ll())},el)],2),0!=(0,n.SU)(E).people.length?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"exit-button hover-up-p",onClick:l[22]||(l[22]=e=>Y())},sl)):(0,s.kq)("",!0),(0,s._)("div",{class:(0,t.C_)(["confirm-person-remove",ce.value?"shown-0--50":""])},[nl,ce.value?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"hover-up-p",onClick:l[23]||(l[23]=e=>ll())},il)):(0,s.kq)("",!0),ce.value?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"hover-up-p",onClick:l[24]||(l[24]=e=>he(ce.value))},pl)):(0,s.kq)("",!0),ce.value?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"hover-up-p",onClick:l[25]||(l[25]=e=>ll())},vl)):(0,s.kq)("",!0),hl],2),(0,s._)("div",{class:"error-message z-10",style:(0,t.j5)(cl.value.length>0?"":"transform: translateX(-50%) translateY(calc(100% + 20pt))")},[(0,s._)("p",null,(0,t.zw)(cl.value),1),_l],4),0==(0,n.SU)(E).people.length?((0,s.wg)(),(0,s.iD)("div",gl,[yl,(0,s._)("p",null,[(0,s.Uk)("Vārds: "),(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":l[26]||(l[26]=e=>oe.value.name=e)},null,512),[[u.nr,oe.value.name]])]),(0,s._)("p",null,[(0,s.Uk)("Dzimšanas datums: "),(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":l[27]||(l[27]=e=>oe.value.dob=e)},null,512),[[u.nr,oe.value.dob]])]),(0,s._)("p",null,[(0,s.Uk)("Vai ir miris? "),(0,s._)("div",kl,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":l[28]||(l[28]=e=>oe.value.isDeceased=e)},null,512),[[u.e8,oe.value.isDeceased]])])]),oe.value.isDeceased?((0,s.wg)(),(0,s.iD)("p",ml,[(0,s.Uk)("Miršanas datums: "),(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":l[29]||(l[29]=e=>oe.value.dod=e)},null,512),[[u.nr,oe.value.dod]])])):(0,s.kq)("",!0),(0,s._)("button",{class:"hover-up-p",onClick:l[30]||(l[30]=e=>pe(oe.value))},fl),bl])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64))}},ql=a(89);const Hl=(0,ql.Z)(El,[["__scopeId","data-v-49c904bc"]]);var Sl=Hl}}]);
//# sourceMappingURL=476.9ae85c1c.js.map